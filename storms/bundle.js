!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=131)}({131:function(t,n,e){"use strict";e.r(n);var r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},i=function(t){var n;return 1===t.length&&(n=t,t=function(t,e){return r(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,u=(o.left,a);var s=Array.prototype,c=(s.slice,s.map,Math.sqrt(50)),l=Math.sqrt(10),f=Math.sqrt(2),h=function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=d(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o};function d(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=c?10:o>=l?5:o>=f?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=c?10:o>=l?5:o>=f?2:1)}function p(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=c?i*=10:o>=l?i*=5:o>=f&&(i*=2),n<t?-i:i}var g=Array.prototype.slice,v=function(t){return t};function y(t){return"translate("+(t+.5)+",0)"}function m(t){return"translate(0,"+(t+.5)+")"}function _(t){return function(n){return+t(n)}}function w(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function x(){return!this.__axis}function b(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,s=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",l=1===t||3===t?y:m;function f(f){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):v:i,p=Math.max(o,0)+u,g=n.range(),y=+g[0]+.5,m=+g[g.length-1]+.5,b=(n.bandwidth?w:_)(n.copy()),M=f.selection?f.selection():f,k=M.selectAll(".domain").data([null]),C=M.selectAll(".tick").data(h,n).order(),T=C.exit(),S=C.enter().append("g").attr("class","tick"),N=C.select("line"),A=C.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(S),N=N.merge(S.append("line").attr("stroke","currentColor").attr(c+"2",s*o)),A=A.merge(S.append("text").attr("fill","currentColor").attr(c,s*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==M&&(k=k.transition(f),C=C.transition(f),N=N.transition(f),A=A.transition(f),T=T.transition(f).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=b(t))?l(t):this.getAttribute("transform")})),S.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return l(n&&isFinite(n=n(t))?n:b(t))}))),T.remove(),k.attr("d",4===t||2==t?a?"M"+s*a+","+y+"H0.5V"+m+"H"+s*a:"M0.5,"+y+"V"+m:a?"M"+y+","+s*a+"V0.5H"+m+"V"+s*a:"M"+y+",0.5H"+m),C.attr("opacity",1).attr("transform",(function(t){return l(b(t))})),N.attr(c+"2",s*o),A.attr(c,s*p).text(d),M.filter(x).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),M.each((function(){this.__axis=b}))}return f.scale=function(t){return arguments.length?(n=t,f):n},f.ticks=function(){return e=g.call(arguments),f},f.tickArguments=function(t){return arguments.length?(e=null==t?[]:g.call(t),f):e.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:g.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(o=a=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(a=+t,f):a},f.tickPadding=function(t){return arguments.length?(u=+t,f):u},f}var M={value:function(){}};function k(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new C(r)}function C(t){this._=t}function T(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function S(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function N(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=M,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}C.prototype=k.prototype={constructor:C,on:function(t,n){var e,r=this._,i=T(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=N(r[e],t.name,n);else if(null==n)for(e in r)r[e]=N(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=S(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new C(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var A=k;function U(){}var D=function(t){return null==t?U:function(){return this.querySelector(t)}};function L(){return[]}var E=function(t){return null==t?L:function(){return this.querySelectorAll(t)}},P=function(t){return function(){return this.matches(t)}},R=function(t){return new Array(t.length)};function F(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}F.prototype={constructor:F,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Y(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new F(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function j(t,n,e,r,i,o,a){var u,s,c,l={},f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(d[u]=c="$"+a.call(s,s.__data__,u,n),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)(s=l[c="$"+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):e[u]=new F(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l[d[u]]===s&&(i[u]=s)}function z(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var H="http://www.w3.org/1999/xhtml",I={svg:"http://www.w3.org/2000/svg",xhtml:H,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},q=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),I.hasOwnProperty(n)?{space:I[n],local:t}:t};function O(t){return function(){this.removeAttribute(t)}}function V(t){return function(){this.removeAttributeNS(t.space,t.local)}}function X(t,n){return function(){this.setAttribute(t,n)}}function $(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function B(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function G(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var Z=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function W(t){return function(){this.style.removeProperty(t)}}function J(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Q(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function K(t,n){return t.style.getPropertyValue(n)||Z(t).getComputedStyle(t,null).getPropertyValue(n)}function tt(t){return function(){delete this[t]}}function nt(t,n){return function(){this[t]=n}}function et(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function rt(t){return t.trim().split(/^|\s+/)}function it(t){return t.classList||new ot(t)}function ot(t){this._node=t,this._names=rt(t.getAttribute("class")||"")}function at(t,n){for(var e=it(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ut(t,n){for(var e=it(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function st(t){return function(){at(this,t)}}function ct(t){return function(){ut(this,t)}}function lt(t,n){return function(){(n.apply(this,arguments)?at:ut)(this,t)}}ot.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ft(){this.textContent=""}function ht(t){return function(){this.textContent=t}}function dt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function pt(){this.innerHTML=""}function gt(t){return function(){this.innerHTML=t}}function vt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function yt(){this.nextSibling&&this.parentNode.appendChild(this)}function mt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _t(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===H&&n.documentElement.namespaceURI===H?n.createElement(t):n.createElementNS(e,t)}}function wt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var xt=function(t){var n=q(t);return(n.local?wt:_t)(n)};function bt(){return null}function Mt(){var t=this.parentNode;t&&t.removeChild(this)}function kt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ct(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}var Tt={},St=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Tt={mouseenter:"mouseover",mouseleave:"mouseout"}));function Nt(t,n,e){return t=At(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function At(t,n,e){return function(r){var i=St;St=r;try{t.call(this,this.__data__,n,e)}finally{St=i}}}function Ut(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Dt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Lt(t,n,e){var r=Tt.hasOwnProperty(t.type)?Nt:At;return function(i,o,a){var u,s=this.__on,c=r(n,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function Et(t,n,e,r){var i=St;t.sourceEvent=St,St=t;try{return n.apply(e,r)}finally{St=i}}function Pt(t,n,e){var r=Z(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Rt(t,n){return function(){return Pt(this,t,n)}}function Ft(t,n){return function(){return Pt(this,t,n.apply(this,arguments))}}var Yt=[null];function jt(t,n){this._groups=t,this._parents=n}function zt(){return new jt([[document.documentElement]],Yt)}jt.prototype=zt.prototype={constructor:jt,select:function(t){"function"!=typeof t&&(t=D(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new jt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=E(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new jt(r,i)},filter:function(t){"function"!=typeof t&&(t=P(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new jt(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),l=-1,this.each((function(t){p[++l]=t})),p;var e,r=n?j:Y,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),s=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],d=h.length,p=t.call(f,f&&f.__data__,l,i),g=p.length,v=s[l]=new Array(g),y=u[l]=new Array(g);r(f,h,v,y,c[l]=new Array(d),p,n);for(var m,_,w=0,x=0;w<g;++w)if(m=v[w]){for(w>=x&&(x=w+1);!(_=y[x])&&++x<g;);m._next=_||null}}return(u=new jt(u,i))._enter=s,u._exit=c,u},enter:function(){return new jt(this._enter||this._groups.map(R),this._parents)},exit:function(){return new jt(this._exit||this._groups.map(R),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new jt(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=z);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new jt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=q(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?V:O:"function"==typeof n?e.local?G:B:e.local?$:X)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?W:"function"==typeof n?Q:J)(t,n,null==e?"":e)):K(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?tt:"function"==typeof n?et:nt)(t,n)):this.node()[t]},classed:function(t,n){var e=rt(t+"");if(arguments.length<2){for(var r=it(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?lt:n?st:ct)(e,n))},text:function(t){return arguments.length?this.each(null==t?ft:("function"==typeof t?dt:ht)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?pt:("function"==typeof t?vt:gt)(t)):this.node().innerHTML},raise:function(){return this.each(yt)},lower:function(){return this.each(mt)},append:function(t){var n="function"==typeof t?t:xt(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:xt(t),r=null==n?bt:"function"==typeof n?n:D(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Mt)},clone:function(t){return this.select(t?Ct:kt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=Ut(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?Lt:Dt,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?Ft:Rt)(t,n))}};var Ht=zt,It=function(t){return"string"==typeof t?new jt([[document.querySelector(t)]],[document.documentElement]):new jt([[t]],Yt)};function qt(){St.stopImmediatePropagation()}var Ot=function(){St.preventDefault(),St.stopImmediatePropagation()},Vt=function(t){var n=t.document.documentElement,e=It(t).on("dragstart.drag",Ot,!0);"onselectstart"in n?e.on("selectstart.drag",Ot,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function Xt(t,n){var e=t.document.documentElement,r=It(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ot,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var $t=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function Bt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Gt(){}var Zt="\\s*([+-]?\\d+)\\s*",Wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qt=/^#([0-9a-f]{3,8})$/,Kt=new RegExp("^rgb\\("+[Zt,Zt,Zt]+"\\)$"),tn=new RegExp("^rgb\\("+[Jt,Jt,Jt]+"\\)$"),nn=new RegExp("^rgba\\("+[Zt,Zt,Zt,Wt]+"\\)$"),en=new RegExp("^rgba\\("+[Jt,Jt,Jt,Wt]+"\\)$"),rn=new RegExp("^hsl\\("+[Wt,Jt,Jt]+"\\)$"),on=new RegExp("^hsla\\("+[Wt,Jt,Jt,Wt]+"\\)$"),an={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function un(){return this.rgb().formatHex()}function sn(){return this.rgb().formatRgb()}function cn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Qt.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?ln(n):3===e?new pn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?new pn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?new pn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Kt.exec(t))?new pn(n[1],n[2],n[3],1):(n=tn.exec(t))?new pn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=nn.exec(t))?fn(n[1],n[2],n[3],n[4]):(n=en.exec(t))?fn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=rn.exec(t))?mn(n[1],n[2]/100,n[3]/100,1):(n=on.exec(t))?mn(n[1],n[2]/100,n[3]/100,n[4]):an.hasOwnProperty(t)?ln(an[t]):"transparent"===t?new pn(NaN,NaN,NaN,0):null}function ln(t){return new pn(t>>16&255,t>>8&255,255&t,1)}function fn(t,n,e,r){return r<=0&&(t=n=e=NaN),new pn(t,n,e,r)}function hn(t){return t instanceof Gt||(t=cn(t)),t?new pn((t=t.rgb()).r,t.g,t.b,t.opacity):new pn}function dn(t,n,e,r){return 1===arguments.length?hn(t):new pn(t,n,e,null==r?1:r)}function pn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function gn(){return"#"+yn(this.r)+yn(this.g)+yn(this.b)}function vn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function yn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function mn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new wn(t,n,e,r)}function _n(t){if(t instanceof wn)return new wn(t.h,t.s,t.l,t.opacity);if(t instanceof Gt||(t=cn(t)),!t)return new wn;if(t instanceof wn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new wn(a,u,s,t.opacity)}function wn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function xn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function bn(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}$t(Gt,cn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:un,formatHex:un,formatHsl:function(){return _n(this).formatHsl()},formatRgb:sn,toString:sn}),$t(pn,dn,Bt(Gt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new pn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new pn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gn,formatHex:gn,formatRgb:vn,toString:vn})),$t(wn,(function(t,n,e,r){return 1===arguments.length?_n(t):new wn(t,n,e,null==r?1:r)}),Bt(Gt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new wn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new wn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new pn(xn(t>=240?t-240:t+120,i,r),xn(t,i,r),xn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Mn=function(t){return function(){return t}};function kn(t,n){return function(e){return t+e*n}}function Cn(t){return 1==(t=+t)?Tn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Mn(isNaN(n)?e:n)}}function Tn(t,n){var e=n-t;return e?kn(t,e):Mn(isNaN(t)?n:t)}var Sn=function t(n){var e=Cn(n);function r(t,n){var r=e((t=dn(t)).r,(n=dn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=Tn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Nn(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=dn(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}var An=Nn((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return bn((e-r/n)*n,a,i,o,u)}})),Un=(Nn((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return bn((e-r/n)*n,i,o,a,u)}})),function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}});function Dn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ln(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=In(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}var En=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},Pn=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},Rn=function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=In(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},Fn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yn=new RegExp(Fn.source,"g");var jn,zn,Hn=function(t,n){var e,r,i,o=Fn.lastIndex=Yn.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=Fn.exec(t))&&(r=Yn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:Pn(e,r)})),o=Yn.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})},In=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?Mn(n):("number"===r?Pn:"string"===r?(e=cn(n))?(n=e,Sn):Hn:n instanceof cn?Sn:n instanceof Date?En:Dn(n)?Un:Array.isArray(n)?Ln:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Rn:Pn)(t,n)},qn=function(){for(var t,n=St;t=n.sourceEvent;)n=t;return n},On=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},Vn=function(t,n,e){arguments.length<3&&(e=n,n=qn().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return On(t,r);return null},Xn=function(t){var n=qn();return n.changedTouches&&(n=n.changedTouches[0]),On(t,n)},$n=0,Bn=0,Gn=0,Zn=0,Wn=0,Jn=0,Qn="object"==typeof performance&&performance.now?performance:Date,Kn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function te(){return Wn||(Kn(ne),Wn=Qn.now()+Jn)}function ne(){Wn=0}function ee(){this._call=this._time=this._next=null}function re(t,n,e){var r=new ee;return r.restart(t,n,e),r}function ie(){Wn=(Zn=Qn.now())+Jn,$n=Bn=0;try{!function(){te(),++$n;for(var t,n=jn;n;)(t=Wn-n._time)>=0&&n._call.call(null,t),n=n._next;--$n}()}finally{$n=0,function(){var t,n,e=jn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:jn=n);zn=t,ae(r)}(),Wn=0}}function oe(){var t=Qn.now(),n=t-Zn;n>1e3&&(Jn-=n,Zn=t)}function ae(t){$n||(Bn&&(Bn=clearTimeout(Bn)),t-Wn>24?(t<1/0&&(Bn=setTimeout(ie,t-Qn.now()-Jn)),Gn&&(Gn=clearInterval(Gn))):(Gn||(Zn=Qn.now(),Gn=setInterval(oe,1e3)),$n=1,Kn(ie)))}ee.prototype=re.prototype={constructor:ee,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?te():+e)+(null==n?0:+n),this._next||zn===this||(zn?zn._next=this:jn=this,zn=this),this._call=t,this._time=e,ae()},stop:function(){this._call&&(this._call=null,this._time=1/0,ae())}};var ue=function(t,n,e){var r=new ee;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r},se=A("start","end","cancel","interrupt"),ce=[],le=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,l,f,h;if(1!==e.state)return u();for(c in i)if((h=i[c]).name===e.name){if(3===h.state)return ue(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(ue((function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=re((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:se,tween:ce,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function fe(t,n){var e=de(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function he(t,n){var e=de(t,n);if(e.state>3)throw new Error("too late; already running");return e}function de(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var pe,ge,ve,ye,me=function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}},_e=180/Math.PI,we={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},xe=function(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*_e,skewX:Math.atan(s)*_e,scaleX:a,scaleY:u}};function be(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:Pn(t,i)},{i:s-2,x:Pn(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Pn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Pn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Pn(t,e)},{i:u-2,x:Pn(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var Me=be((function(t){return"none"===t?we:(pe||(pe=document.createElement("DIV"),ge=document.documentElement,ve=document.defaultView),pe.style.transform=t,t=ve.getComputedStyle(ge.appendChild(pe),null).getPropertyValue("transform"),ge.removeChild(pe),t=t.slice(7,-1).split(","),xe(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),ke=be((function(t){return null==t?we:(ye||(ye=document.createElementNS("http://www.w3.org/2000/svg","g")),ye.setAttribute("transform",t),(t=ye.transform.baseVal.consolidate())?(t=t.matrix,xe(t.a,t.b,t.c,t.d,t.e,t.f)):we)}),", ",")",")");function Ce(t,n){var e,r;return function(){var i=he(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function Te(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=he(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}}function Se(t,n,e){var r=t._id;return t.each((function(){var t=he(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return de(t,r).value[n]}}var Ne=function(t,n){var e;return("number"==typeof n?Pn:n instanceof cn?Sn:(e=cn(n))?(n=e,Sn):Hn)(t,n)};function Ae(t){return function(){this.removeAttribute(t)}}function Ue(t){return function(){this.removeAttributeNS(t.space,t.local)}}function De(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Le(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function Ee(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function Pe(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function Re(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Fe(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Ye(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Fe(t,i)),e}return i._value=n,i}function je(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Re(t,i)),e}return i._value=n,i}function ze(t,n){return function(){fe(this,t).delay=+n.apply(this,arguments)}}function He(t,n){return n=+n,function(){fe(this,t).delay=n}}function Ie(t,n){return function(){he(this,t).duration=+n.apply(this,arguments)}}function qe(t,n){return n=+n,function(){he(this,t).duration=n}}function Oe(t,n){if("function"!=typeof n)throw new Error;return function(){he(this,t).ease=n}}function Ve(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?fe:he;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Xe=Ht.prototype.constructor;function $e(t){return function(){this.style.removeProperty(t)}}function Be(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Ge(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Be(t,o,e)),r}return o._value=n,o}function Ze(t){return function(n){this.textContent=t.call(this,n)}}function We(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Ze(r)),n}return r._value=t,r}var Je=0;function Qe(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Ke(){return++Je}var tr=Ht.prototype;Qe.prototype=function(t){return Ht().transition(t)}.prototype={constructor:Qe,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=D(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,le(f[h],n,e,h,f,de(u,e)));return new Qe(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=E(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,d=t.call(s,s.__data__,f,c),p=de(s,e),g=0,v=d.length;g<v;++g)(h=d[g])&&le(h,n,e,g,d,p);o.push(d),a.push(s)}return new Qe(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=P(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Qe(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new Qe(a,this._parents,this._name,this._id)},selection:function(){return new Xe(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Ke(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=de(a,n);le(a,t,e,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Qe(r,this._parents,t,e)},call:tr.call,nodes:tr.nodes,node:tr.node,size:tr.size,empty:tr.empty,each:tr.each,on:function(t,n){var e=this._id;return arguments.length<2?de(this.node(),e).on.on(t):this.each(Ve(e,t,n))},attr:function(t,n){var e=q(t),r="transform"===e?ke:Ne;return this.attrTween(t,"function"==typeof n?(e.local?Pe:Ee)(e,r,Se(this,"attr."+t,n)):null==n?(e.local?Ue:Ae)(e):(e.local?Le:De)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=q(t);return this.tween(e,(r.local?Ye:je)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Me:Ne;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=K(this,t),a=(this.style.removeProperty(t),K(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,$e(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=K(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=K(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,Se(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=he(this,t),c=s.on,l=null==s.value[a]?o||(o=$e(n)):void 0;c===e&&i===l||(r=(e=c).copy()).on(u,i=l),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=K(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Ge(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Se(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,We(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=de(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Ce:Te)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ze:He)(n,t)):de(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ie:qe)(n,t)):de(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Oe(n,t)):de(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};e.each((function(){var e=he(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n}))}))}};var nr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function er(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return nr.time=te(),nr;return e}Ht.prototype.interrupt=function(t){return this.each((function(){me(this,t)}))},Ht.prototype.transition=function(t){var n,e;t instanceof Qe?(n=t._id,t=t._name):(n=Ke(),(e=nr).time=te(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&le(a,t,n,c,u,e||er(a,n));return new Qe(r,this._parents,t,n)};function rr(t){return[+t[0],+t[1]]}function ir(t){return[rr(t[0]),rr(t[1])]}["w","e"].map(or),["n","s"].map(or),["n","w","e","s","nw","ne","sw","se"].map(or);function or(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var ar=Math.PI,ur=2*ar,sr=ur-1e-6;function cr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function lr(){return new cr}cr.prototype=lr.prototype={constructor:cr,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,s=r-n,c=o-t,l=a-n,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>1e-6)if(Math.abs(l*u-s*c)>1e-6&&i){var h=e-o,d=r-a,p=u*u+s*s,g=h*h+d*d,v=Math.sqrt(p),y=Math.sqrt(f),m=i*Math.tan((ar-Math.acos((p+f-g)/(2*v*y)))/2),_=m/y,w=m/v;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*c)+","+(n+_*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*d)+","+(this._x1=t+w*u)+","+(this._y1=n+w*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),s=t+a,c=n+u,l=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+s+","+c),e&&(f<0&&(f=f%ur+ur),f>sr?this._+="A"+e+","+e+",0,1,"+l+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=ar)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var fr=lr;function hr(){}function dr(t,n){var e=new hr;if(t instanceof hr)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}hr.prototype=dr.prototype={constructor:hr,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var pr=dr;function gr(){}var vr=pr.prototype;function yr(t,n){var e=new gr;if(t instanceof gr)t.each((function(t){e.add(t)}));else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}gr.prototype=yr.prototype={constructor:gr,has:vr.has,add:function(t){return this["$"+(t+="")]=t,this},remove:vr.remove,clear:vr.clear,values:vr.keys,size:vr.size,empty:vr.empty,each:vr.each};Array.prototype.slice;var mr=function(t){return function(){return t}};function _r(t,n,e,r,i,o,a,u,s,c){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=s,this._=c}function wr(){return!St.ctrlKey&&!St.button}function xr(){return this.parentNode}function br(t){return null==t?{x:St.x,y:St.y}:t}function Mr(){return navigator.maxTouchPoints||"ontouchstart"in this}_r.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var kr={},Cr={};function Tr(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function Sr(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Nr(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Ar(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+Nr(-n,6):n>9999?"+"+Nr(n,6):Nr(n,4))+"-"+Nr(t.getUTCMonth()+1,2)+"-"+Nr(t.getUTCDate(),2)+(o?"T"+Nr(e,2)+":"+Nr(r,2)+":"+Nr(i,2)+"."+Nr(o,3)+"Z":i?"T"+Nr(e,2)+":"+Nr(r,2)+":"+Nr(i,2)+"Z":r||e?"T"+Nr(e,2)+":"+Nr(r,2)+"Z":"")}var Ur=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,s=o<=0,c=!1;function l(){if(s)return Cr;if(c)return c=!1,kr;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=l())!==Cr;){for(var f=[];r!==kr&&r!==Cr;)f.push(r),r=l();n&&null==(f=n(f,u++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Ar(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Tr(t);return function(r,i){return n(e(r),i,t)}}(t,n):Tr(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Sr(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Sr(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},Dr=Ur(","),Lr=Dr.parse,Er=(Dr.parseRows,Dr.format,Dr.formatBody,Dr.formatRows,Dr.formatRow,Dr.formatValue,Ur("\t")),Pr=Er.parse;Er.parseRows,Er.format,Er.formatBody,Er.formatRows,Er.formatRow,Er.formatValue;function Rr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Fr=function(t,n){return fetch(t,n).then(Rr)};function Yr(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),Fr(n,e).then((function(n){return t(n,r)}))}}Yr(Lr),Yr(Pr);function jr(t){return function(n,e){return Fr(n,e).then((function(n){return(new DOMParser).parseFromString(n,t)}))}}jr("application/xml"),jr("text/html"),jr("image/svg+xml");function zr(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,s,c,l,f,h,d=t._root,p={data:r},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=n>=(o=(g+y)/2))?g=o:y=o,(l=e>=(a=(v+m)/2))?v=a:m=a,i=d,!(d=d[f=l<<1|c]))return i[f]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===u&&e===s)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=n>=(o=(g+y)/2))?g=o:y=o,(l=e>=(a=(v+m)/2))?v=a:m=a}while((f=l<<1|c)==(h=(s>=a)<<1|u>=o));return i[h]=d,i[f]=p,t}var Hr=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function Ir(t){return t[0]}function qr(t){return t[1]}function Or(t,n,e){var r=new Vr(null==n?Ir:n,null==e?qr:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Vr(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Xr(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var $r=Or.prototype=Vr.prototype;$r.copy=function(){var t,n,e=new Vr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Xr(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Xr(n));return e},$r.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return zr(this.cover(n,e),n,e,t)},$r.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,c=1/0,l=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<s&&(s=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(s>l||c>f)return this;for(this.cover(s,c).cover(l,f),e=0;e<o;++e)zr(this,a[e],u[e],t[e]);return this},$r.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,u,s=i-e,c=this._root;e>t||t>=i||r>n||n>=o;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=c,c=a,s*=2,u){case 0:i=e+s,o=r+s;break;case 1:e=i-s,o=r+s;break;case 2:i=e+s,r=o-s;break;case 3:e=i-s,r=o-s}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},$r.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},$r.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},$r.find=function(t,n,e){var r,i,o,a,u,s,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Hr(g,l,f,h,d)),null==e?e=1/0:(l=t-e,f=n-e,h=t+e,d=n+e,e*=e);s=p.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(o=s.y0)>d||(a=s.x1)<l||(u=s.y1)<f))if(g.length){var v=(i+a)/2,y=(o+u)/2;p.push(new Hr(g[3],v,y,a,u),new Hr(g[2],i,y,v,u),new Hr(g[1],v,o,a,y),new Hr(g[0],i,o,v,y)),(c=(n>=y)<<1|t>=v)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var m=t-+this._x.call(null,g.data),_=n-+this._y.call(null,g.data),w=m*m+_*_;if(w<e){var x=Math.sqrt(e=w);l=t-x,f=n-x,h=t+x,d=n+x,r=g.data}}return r},$r.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,s,c,l,f,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(u=(p+v)/2))?p=u:v=u,(l=a>=(s=(g+y)/2))?g=s:y=s,n=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},$r.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},$r.root=function(){return this._root},$r.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},$r.visit=function(t){var n,e,r,i,o,a,u=[],s=this._root;for(s&&u.push(new Hr(s,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&s.length){var c=(r+o)/2,l=(i+a)/2;(e=s[3])&&u.push(new Hr(e,c,l,o,a)),(e=s[2])&&u.push(new Hr(e,r,l,c,a)),(e=s[1])&&u.push(new Hr(e,c,i,o,l)),(e=s[0])&&u.push(new Hr(e,r,i,c,l))}return this},$r.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new Hr(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,s=n.x1,c=n.y1,l=(a+s)/2,f=(u+c)/2;(o=i[0])&&e.push(new Hr(o,a,u,l,f)),(o=i[1])&&e.push(new Hr(o,l,u,s,f)),(o=i[2])&&e.push(new Hr(o,a,f,l,c)),(o=i[3])&&e.push(new Hr(o,l,f,s,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},$r.x=function(t){return arguments.length?(this._x=t,this):this._x},$r.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var Br=function(t){return t};function Gr(t,n){t&&Wr.hasOwnProperty(t.type)&&Wr[t.type](t,n)}var Zr={Feature:function(t,n){Gr(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Gr(e[r].geometry,n)}},Wr={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Jr(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Jr(e[r],n,0)},Polygon:function(t,n){Qr(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Qr(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Gr(e[r],n)}};function Jr(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Qr(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Jr(t[e],n,1);n.polygonEnd()}var Kr=function(t,n){t&&Zr.hasOwnProperty(t.type)?Zr[t.type](t,n):Gr(t,n)},ti=function(){return new ni};function ni(){this.reset()}ni.prototype={constructor:ni,reset:function(){this.s=this.t=0},add:function(t){ri(ei,t,this.t),ri(this,ei.s,this.s),this.s?this.t+=ei.t:this.s=ei.t},valueOf:function(){return this.s}};var ei=new ni;function ri(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var ii=Math.PI,oi=2*ii,ai=Math.abs,ui=(Math.atan,Math.atan2,Math.cos,Math.ceil,Math.exp,Math.floor,Math.log,Math.pow,Math.sin,Math.sign,Math.sqrt);Math.tan;function si(){}var ci,li,fi,hi,di=ti(),pi=ti(),gi={point:si,lineStart:si,lineEnd:si,polygonStart:function(){gi.lineStart=vi,gi.lineEnd=_i},polygonEnd:function(){gi.lineStart=gi.lineEnd=gi.point=si,di.add(ai(pi)),pi.reset()},result:function(){var t=di/2;return di.reset(),t}};function vi(){gi.point=yi}function yi(t,n){gi.point=mi,ci=fi=t,li=hi=n}function mi(t,n){pi.add(hi*t-fi*n),fi=t,hi=n}function _i(){mi(ci,li)}var wi=gi,xi=1/0,bi=xi,Mi=-xi,ki=Mi;var Ci,Ti,Si,Ni,Ai={point:function(t,n){t<xi&&(xi=t);t>Mi&&(Mi=t);n<bi&&(bi=n);n>ki&&(ki=n)},lineStart:si,lineEnd:si,polygonStart:si,polygonEnd:si,result:function(){var t=[[xi,bi],[Mi,ki]];return Mi=ki=-(bi=xi=1/0),t}},Ui=0,Di=0,Li=0,Ei=0,Pi=0,Ri=0,Fi=0,Yi=0,ji=0,zi={point:Hi,lineStart:Ii,lineEnd:Vi,polygonStart:function(){zi.lineStart=Xi,zi.lineEnd=$i},polygonEnd:function(){zi.point=Hi,zi.lineStart=Ii,zi.lineEnd=Vi},result:function(){var t=ji?[Fi/ji,Yi/ji]:Ri?[Ei/Ri,Pi/Ri]:Li?[Ui/Li,Di/Li]:[NaN,NaN];return Ui=Di=Li=Ei=Pi=Ri=Fi=Yi=ji=0,t}};function Hi(t,n){Ui+=t,Di+=n,++Li}function Ii(){zi.point=qi}function qi(t,n){zi.point=Oi,Hi(Si=t,Ni=n)}function Oi(t,n){var e=t-Si,r=n-Ni,i=ui(e*e+r*r);Ei+=i*(Si+t)/2,Pi+=i*(Ni+n)/2,Ri+=i,Hi(Si=t,Ni=n)}function Vi(){zi.point=Hi}function Xi(){zi.point=Bi}function $i(){Gi(Ci,Ti)}function Bi(t,n){zi.point=Gi,Hi(Ci=Si=t,Ti=Ni=n)}function Gi(t,n){var e=t-Si,r=n-Ni,i=ui(e*e+r*r);Ei+=i*(Si+t)/2,Pi+=i*(Ni+n)/2,Ri+=i,Fi+=(i=Ni*t-Si*n)*(Si+t),Yi+=i*(Ni+n),ji+=3*i,Hi(Si=t,Ni=n)}var Zi=zi;function Wi(t){this._context=t}Wi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,oi)}},result:si};var Ji,Qi,Ki,to,no,eo=ti(),ro={point:si,lineStart:function(){ro.point=io},lineEnd:function(){Ji&&oo(Qi,Ki),ro.point=si},polygonStart:function(){Ji=!0},polygonEnd:function(){Ji=null},result:function(){var t=+eo;return eo.reset(),t}};function io(t,n){ro.point=oo,Qi=to=t,Ki=no=n}function oo(t,n){to-=t,no-=n,eo.add(ui(to*to+no*no)),to=t,no=n}var ao=ro;function uo(){this._string=[]}function so(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}uo.prototype={_radius:4.5,_circle:so(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=so(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var co=function(){return Math.random()},lo=(function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(co),function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(co)),fo=(function t(n){function e(){var t=lo.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(co),function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(co));(function t(n){function e(t){var e=fo.source(n)(t);return function(){return e()/t}}return e.source=t,e})(co),function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(co);function ho(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function po(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t)}return this}var go=Array.prototype,vo=go.map,yo=go.slice;var mo=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}},_o=function(t){return+t},wo=[0,1];function xo(t){return t}function bo(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Mo(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function ko(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=bo(i,r),o=e(a,o)):(r=bo(r,i),o=e(o,a)),function(t){return o(r(t))}}function Co(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=bo(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=u(t,n,1,r)-1;return o[e](i[e](n))}}function To(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function So(){var t,n,e,r,i,o,a=wo,u=wo,s=In,c=xo;function l(){return r=Math.min(a.length,u.length)>2?Co:ko,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(c(n)))}return f.invert=function(e){return c(n((o||(o=r(u,a.map(t),Pn)))(e)))},f.domain=function(t){return arguments.length?(a=vo.call(t,_o),c===xo||(c=Mo(a)),l()):a.slice()},f.range=function(t){return arguments.length?(u=yo.call(t),l()):u.slice()},f.rangeRound=function(t){return u=yo.call(t),s=mo,l()},f.clamp=function(t){return arguments.length?(c=t?Mo(a):xo,f):c!==xo},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,l()}}function No(t,n){return So()(t,n)}var Ao=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uo(t){if(!(n=Ao.exec(t)))throw new Error("invalid format: "+t);var n;return new Do({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Do(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Uo.prototype=Do.prototype,Do.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Lo,Eo,Po,Ro,Fo=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},Yo=function(t){return(t=Fo(Math.abs(t)))?t[1]:NaN},jo=function(t,n){var e=Fo(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},zo={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return jo(100*t,n)},r:jo,s:function(t,n){var e=Fo(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Lo=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Fo(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ho=function(t){return t},Io=Array.prototype.map,qo=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];Eo=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Ho:(n=Io.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Ho:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Io.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Uo(t)).fill,e=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,v=t.precision,y=t.trim,m=t.type;"n"===m?(g=!0,m="g"):zo[m]||(void 0===v&&(v=12),y=!0,m="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var _="$"===h?i:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===h?o:/[%p]/.test(m)?s:"",x=zo[m],b=/[defgprs%]/.test(m);function M(t){var i,o,s,h=_,M=w;if("c"===m)M=x(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),v),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:c:"-"===f||"("===f?"":f)+h,M=("s"===m?qo[8+Lo/3]:"")+M+(k&&"("===f?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var C=h.length+t.length+M.length,T=C<p?new Array(p-C+1).join(n):"";switch(g&&d&&(t=r(T+t,T.length?p-M.length:1/0),T=""),e){case"<":t=h+t+M+T;break;case"=":t=h+T+t+M;break;case"^":t=T.slice(0,C=T.length>>1)+h+t+M+T.slice(C);break;default:t=T+h+t+M}return u(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=Uo(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Yo(n)/3))),i=Math.pow(10,-r),o=qo[8+r/3];return function(t){return e(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Po=Eo.format,Ro=Eo.formatPrefix;var Oo=function(t,n,e,r){var i,o=p(t,n,e);switch((r=Uo(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Yo(n)/3)))-Yo(Math.abs(t)))}(o,a))||(r.precision=i),Ro(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Yo(n)-Yo(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Yo(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Po(r)};function Vo(t){var n=t.domain;return t.ticks=function(t){var e=n();return h(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Oo(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,a=i.length-1,u=i[o],s=i[a];return s<u&&(r=u,u=s,s=r,r=o,o=a,a=r),(r=d(u,s,e))>0?r=d(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,e):r<0&&(r=d(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,e)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(s/r)*r,n(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(s*r)/r,n(i)),t},t}var Xo=function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t};function $o(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Bo(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Go(t){var n=1,e=t($o(n),Bo(n));return e.constant=function(e){return arguments.length?t($o(n=+e),Bo(n)):n},Vo(e)}function Zo(){var t=Go(So());return t.copy=function(){return To(t,Zo()).constant(t.constant())},ho.apply(t,arguments)}var Wo=new Date,Jo=new Date;function Qo(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=function(e){return Qo((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return Wo.setTime(+n),Jo.setTime(+r),t(Wo),t(Jo),Math.floor(e(Wo,Jo))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var Ko=Qo((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Ko.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Qo((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var ta=Ko,na=(Ko.range,Qo((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),ea=na;na.range;function ra(t){return Qo((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var ia=ra(0),oa=ra(1),aa=ra(2),ua=ra(3),sa=ra(4),ca=ra(5),la=ra(6),fa=(ia.range,oa.range,aa.range,ua.range,sa.range,ca.range,la.range,Qo((function(t){t.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),ha=fa,da=(fa.range,Qo((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()}))),pa=da,ga=(da.range,Qo((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()}))),va=ga,ya=(ga.range,Qo((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()}))),ma=ya,_a=(ya.range,Qo((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t})));_a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Qo((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):_a:null};var wa=_a;_a.range;function xa(t){return Qo((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var ba=xa(0),Ma=xa(1),ka=xa(2),Ca=xa(3),Ta=xa(4),Sa=xa(5),Na=xa(6),Aa=(ba.range,Ma.range,ka.range,Ca.range,Ta.range,Sa.range,Na.range,Qo((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1}))),Ua=Aa,Da=(Aa.range,Qo((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Da.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Qo((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var La=Da;Da.range;function Ea(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Pa(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ra(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var Fa,Ya,ja={"-":"",_:" ",0:"0"},za=/^\s*\d+/,Ha=/^%/,Ia=/[\\^$*+?|[\]().{}]/g;function qa(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Oa(t){return t.replace(Ia,"\\$&")}function Va(t){return new RegExp("^(?:"+t.map(Oa).join("|")+")","i")}function Xa(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function $a(t,n,e){var r=za.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Ba(t,n,e){var r=za.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Ga(t,n,e){var r=za.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Za(t,n,e){var r=za.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Wa(t,n,e){var r=za.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ja(t,n,e){var r=za.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Qa(t,n,e){var r=za.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Ka(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function tu(t,n,e){var r=za.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function nu(t,n,e){var r=za.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function eu(t,n,e){var r=za.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function ru(t,n,e){var r=za.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function iu(t,n,e){var r=za.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function ou(t,n,e){var r=za.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function au(t,n,e){var r=za.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function uu(t,n,e){var r=za.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function su(t,n,e){var r=za.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function cu(t,n,e){var r=Ha.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function lu(t,n,e){var r=za.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function fu(t,n,e){var r=za.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function hu(t,n){return qa(t.getDate(),n,2)}function du(t,n){return qa(t.getHours(),n,2)}function pu(t,n){return qa(t.getHours()%12||12,n,2)}function gu(t,n){return qa(1+ha.count(ta(t),t),n,3)}function vu(t,n){return qa(t.getMilliseconds(),n,3)}function yu(t,n){return vu(t,n)+"000"}function mu(t,n){return qa(t.getMonth()+1,n,2)}function _u(t,n){return qa(t.getMinutes(),n,2)}function wu(t,n){return qa(t.getSeconds(),n,2)}function xu(t){var n=t.getDay();return 0===n?7:n}function bu(t,n){return qa(ia.count(ta(t)-1,t),n,2)}function Mu(t,n){var e=t.getDay();return t=e>=4||0===e?sa(t):sa.ceil(t),qa(sa.count(ta(t),t)+(4===ta(t).getDay()),n,2)}function ku(t){return t.getDay()}function Cu(t,n){return qa(oa.count(ta(t)-1,t),n,2)}function Tu(t,n){return qa(t.getFullYear()%100,n,2)}function Su(t,n){return qa(t.getFullYear()%1e4,n,4)}function Nu(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+qa(n/60|0,"0",2)+qa(n%60,"0",2)}function Au(t,n){return qa(t.getUTCDate(),n,2)}function Uu(t,n){return qa(t.getUTCHours(),n,2)}function Du(t,n){return qa(t.getUTCHours()%12||12,n,2)}function Lu(t,n){return qa(1+Ua.count(La(t),t),n,3)}function Eu(t,n){return qa(t.getUTCMilliseconds(),n,3)}function Pu(t,n){return Eu(t,n)+"000"}function Ru(t,n){return qa(t.getUTCMonth()+1,n,2)}function Fu(t,n){return qa(t.getUTCMinutes(),n,2)}function Yu(t,n){return qa(t.getUTCSeconds(),n,2)}function ju(t){var n=t.getUTCDay();return 0===n?7:n}function zu(t,n){return qa(ba.count(La(t)-1,t),n,2)}function Hu(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Ta(t):Ta.ceil(t),qa(Ta.count(La(t),t)+(4===La(t).getUTCDay()),n,2)}function Iu(t){return t.getUTCDay()}function qu(t,n){return qa(Ma.count(La(t)-1,t),n,2)}function Ou(t,n){return qa(t.getUTCFullYear()%100,n,2)}function Vu(t,n){return qa(t.getUTCFullYear()%1e4,n,4)}function Xu(){return"+0000"}function $u(){return"%"}function Bu(t){return+t}function Gu(t){return Math.floor(+t/1e3)}!function(t){Fa=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,c=Va(i),l=Xa(i),f=Va(o),h=Xa(o),d=Va(a),p=Xa(a),g=Va(u),v=Xa(u),y=Va(s),m=Xa(s),_={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:hu,e:hu,f:yu,H:du,I:pu,j:gu,L:vu,m:mu,M:_u,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Bu,s:Gu,S:wu,u:xu,U:bu,V:Mu,w:ku,W:Cu,x:null,X:null,y:Tu,Y:Su,Z:Nu,"%":$u},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Au,e:Au,f:Pu,H:Uu,I:Du,j:Lu,L:Eu,m:Ru,M:Fu,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Bu,s:Gu,S:Yu,u:ju,U:zu,V:Hu,w:Iu,W:qu,x:null,X:null,y:Ou,Y:Vu,Z:Xu,"%":$u},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=v[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return k(t,n,e,r)},d:eu,e:eu,f:su,H:iu,I:iu,j:ru,L:uu,m:nu,M:ou,p:function(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1},q:tu,Q:lu,s:fu,S:au,u:Ba,U:Ga,V:Za,w:$a,W:Wa,x:function(t,n,r){return k(t,e,n,r)},X:function(t,n,e){return k(t,r,n,e)},y:Qa,Y:Ja,Z:Ka,"%":cu};function b(t,n){return function(e){var r,i,o,a=[],u=-1,s=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=ja[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=Ra(1900,void 0,1);if(k(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Pa(Ra(o.y,0,1))).getUTCDay(),r=i>4||0===i?Ma.ceil(r):Ma(r),r=Ua.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Ea(Ra(o.y,0,1))).getDay(),r=i>4||0===i?oa.ceil(r):oa(r),r=ha.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Pa(Ra(o.y,0,1)).getUTCDay():Ea(Ra(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Pa(o)):Ea(o)}}function k(t,n,e,r){for(var i,o,a=0,u=n.length,s=e.length;a<u;){if(r>=s)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in ja?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return _.x=b(e,_),_.X=b(r,_),_.c=b(n,_),w.x=b(e,w),w.X=b(r,w),w.c=b(n,w),{format:function(t){var n=b(t+="",_);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=b(t+="",w);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}(t),Ya=Fa.format,Fa.parse,Fa.utcFormat,Fa.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zu(t){return new Date(t)}function Wu(t){return t instanceof Date?+t:+new Date(+t)}function Ju(t,n,e,r,o,a,u,s,c){var l=No(xo,xo),f=l.invert,h=l.domain,d=c(".%L"),g=c(":%S"),v=c("%I:%M"),y=c("%I %p"),m=c("%a %d"),_=c("%b %d"),w=c("%B"),x=c("%Y"),b=[[u,1,1e3],[u,5,5e3],[u,15,15e3],[u,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,864e5],[r,2,1728e5],[e,1,6048e5],[n,1,2592e6],[n,3,7776e6],[t,1,31536e6]];function M(i){return(u(i)<i?d:a(i)<i?g:o(i)<i?v:r(i)<i?y:n(i)<i?e(i)<i?m:_:t(i)<i?w:x)(i)}function k(n,e,r,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(r-e)/n,u=i((function(t){return t[2]})).right(b,a);u===b.length?(o=p(e/31536e6,r/31536e6,n),n=t):u?(o=(u=b[a/b[u-1][2]<b[u][2]/a?u-1:u])[1],n=u[0]):(o=Math.max(p(e,r,n),1),n=s)}return null==o?n:n.every(o)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(vo.call(t,Wu)):h().map(Zu)},l.ticks=function(t,n){var e,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(e=i,i=o,o=e),e=(e=k(t,i,o,n))?e.range(i,o+1):[],a?e.reverse():e},l.tickFormat=function(t,n){return null==n?M:c(n)},l.nice=function(t,n){var e=h();return(t=k(t,e[0],e[e.length-1],n))?h(Xo(e,t)):l},l.copy=function(){return To(l,Ju(t,n,e,r,o,a,u,s,c))},l}var Qu=Qo((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Ku=(Qu.range,Qo((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()}))),ts=(Ku.range,Qo((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()})));ts.range;function ns(){var t,n,e,r,i,o=0,a=1,u=xo,s=!1;function c(n){return isNaN(n=+n)?i:u(0===e?.5:(n=(r(n)-t)*e,s?Math.max(0,Math.min(1,n)):n))}return c.domain=function(i){return arguments.length?(t=r(o=+i[0]),n=r(a=+i[1]),e=t===n?0:1/(n-t),c):[o,a]},c.clamp=function(t){return arguments.length?(s=!!t,c):s},c.interpolator=function(t){return arguments.length?(u=t,c):u},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),n=i(a),e=t===n?0:1/(n-t),c}}function es(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rs(){var t=Vo(ns()(xo));return t.copy=function(){return es(t,rs())},po.apply(t,arguments)}var is=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e},os=function(t){return An(t[t.length-1])},as=os(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(is)),us=os(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(is)),ss=function(t){return function(){return t}};function cs(t){this._context=t}cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var ls=function(t){return new cs(t)};function fs(t){return t[0]}function hs(t){return t[1]}function ds(){this._=null}function ps(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function gs(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function vs(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function ys(t){for(;t.L;)t=t.L;return t}ds.prototype={constructor:ds,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=ys(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(gs(this,e),e=(t=e).U),e.C=!1,r.C=!0,vs(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(vs(this,e),e=(t=e).U),e.C=!1,r.C=!0,gs(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?ys(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,gs(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,vs(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,gs(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,vs(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,gs(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,vs(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ms=ds;function _s(t,n,e,r){var i=[null,null],o=Os.push(i)-1;return i.left=t,i.right=n,e&&xs(i,t,n,e),r&&xs(i,n,t,r),Is[t.index].halfedges.push(o),Is[n.index].halfedges.push(o),i}function ws(t,n,e){var r=[n,e];return r.left=t,r}function xs(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function bs(t,n,e,r,i){var o,a=t[0],u=t[1],s=a[0],c=a[1],l=0,f=1,h=u[0]-s,d=u[1]-c;if(o=n-s,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>l&&(l=o)}if(o=r-s,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<f&&(f=o)}if(o=e-c,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>l&&(l=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<f&&(f=o)}return!(l>0||f<1)||(l>0&&(t[0]=[s+l*h,c+l*d]),f<1&&(t[1]=[s+f*h,c+f*d]),!0)}}}}}function Ms(t,n,e,r,i){var o=t[1];if(o)return!0;var a,u,s=t[0],c=t.left,l=t.right,f=c[0],h=c[1],d=l[0],p=l[1],g=(f+d)/2,v=(h+p)/2;if(p===h){if(g<n||g>=r)return;if(f>d){if(s){if(s[1]>=i)return}else s=[g,e];o=[g,i]}else{if(s){if(s[1]<e)return}else s=[g,i];o=[g,e]}}else if(u=v-(a=(f-d)/(p-h))*g,a<-1||a>1)if(f>d){if(s){if(s[1]>=i)return}else s=[(e-u)/a,e];o=[(i-u)/a,i]}else{if(s){if(s[1]<e)return}else s=[(i-u)/a,i];o=[(e-u)/a,e]}else if(h<p){if(s){if(s[0]>=r)return}else s=[n,a*n+u];o=[r,a*r+u]}else{if(s){if(s[0]<n)return}else s=[r,a*r+u];o=[n,a*n+u]}return t[0]=s,t[1]=o,!0}function ks(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Cs(t,n){return n[+(n.left!==t.site)]}function Ts(t,n){return n[+(n.left===t.site)]}var Ss,Ns=[];function As(){ps(this),this.x=this.y=this.arc=this.site=this.cy=null}function Us(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i[0],u=i[1],s=r[0]-a,c=r[1]-u,l=o[0]-a,f=o[1]-u,h=2*(s*f-c*l);if(!(h>=-Xs)){var d=s*s+c*c,p=l*l+f*f,g=(f*d-c*p)/h,v=(s*p-l*d)/h,y=Ns.pop()||new As;y.arc=t,y.site=i,y.x=g+a,y.y=(y.cy=v+u)+Math.sqrt(g*g+v*v),t.circle=y;for(var m=null,_=qs._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){m=_.P;break}_=_.L}else{if(!_.R){m=_;break}_=_.R}qs.insert(m,y),m||(Ss=y)}}}}function Ds(t){var n=t.circle;n&&(n.P||(Ss=n.N),qs.remove(n),Ns.push(n),ps(n),t.circle=null)}var Ls=[];function Es(){ps(this),this.edge=this.site=this.circle=null}function Ps(t){var n=Ls.pop()||new Es;return n.site=t,n}function Rs(t){Ds(t),Hs.remove(t),Ls.push(t),ps(t)}function Fs(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,a=t.N,u=[t];Rs(t);for(var s=o;s.circle&&Math.abs(e-s.circle.x)<Vs&&Math.abs(r-s.circle.cy)<Vs;)o=s.P,u.unshift(s),Rs(s),s=o;u.unshift(s),Ds(s);for(var c=a;c.circle&&Math.abs(e-c.circle.x)<Vs&&Math.abs(r-c.circle.cy)<Vs;)a=c.N,u.push(c),Rs(c),c=a;u.push(c),Ds(c);var l,f=u.length;for(l=1;l<f;++l)c=u[l],s=u[l-1],xs(c.edge,s.site,c.site,i);s=u[0],(c=u[f-1]).edge=_s(s.site,c.site,null,i),Us(s),Us(c)}function Ys(t){for(var n,e,r,i,o=t[0],a=t[1],u=Hs._;u;)if((r=js(u,a)-o)>Vs)u=u.L;else{if(!((i=o-zs(u,a))>Vs)){r>-Vs?(n=u.P,e=u):i>-Vs?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}!function(t){Is[t.index]={site:t,halfedges:[]}}(t);var s=Ps(t);if(Hs.insert(n,s),n||e){if(n===e)return Ds(n),e=Ps(n.site),Hs.insert(s,e),s.edge=e.edge=_s(n.site,s.site),Us(n),void Us(e);if(e){Ds(n),Ds(e);var c=n.site,l=c[0],f=c[1],h=t[0]-l,d=t[1]-f,p=e.site,g=p[0]-l,v=p[1]-f,y=2*(h*v-d*g),m=h*h+d*d,_=g*g+v*v,w=[(v*m-d*_)/y+l,(h*_-g*m)/y+f];xs(e.edge,c,p,w),s.edge=_s(c,t,null,w),e.edge=_s(t,p,null,w),Us(n),Us(e)}else s.edge=_s(n.site,s.site)}}function js(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site)[0],s=e[1],c=s-n;if(!c)return u;var l=u-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-s+c/2+i-o/2)))/f+r:(r+u)/2}function zs(t,n){var e=t.N;if(e)return js(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var Hs,Is,qs,Os,Vs=1e-6,Xs=1e-12;function $s(t,n){return n[1]-t[1]||n[0]-t[0]}function Bs(t,n){var e,r,i,o=t.sort($s).pop();for(Os=[],Is=new Array(t.length),Hs=new ms,qs=new ms;;)if(i=Ss,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(Ys(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Fs(i.arc)}if(function(){for(var t,n,e,r,i=0,o=Is.length;i<o;++i)if((t=Is[i])&&(r=(n=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=ks(t,Os[n[e]]);for(a.sort((function(t,n){return u[n]-u[t]})),e=0;e<r;++e)u[e]=n[a[e]];for(e=0;e<r;++e)n[e]=u[e]}}(),n){var a=+n[0][0],u=+n[0][1],s=+n[1][0],c=+n[1][1];!function(t,n,e,r){for(var i,o=Os.length;o--;)Ms(i=Os[o],t,n,e,r)&&bs(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>Vs||Math.abs(i[0][1]-i[1][1])>Vs)||delete Os[o]}(a,u,s,c),function(t,n,e,r){var i,o,a,u,s,c,l,f,h,d,p,g,v=Is.length,y=!0;for(i=0;i<v;++i)if(o=Is[i]){for(a=o.site,u=(s=o.halfedges).length;u--;)Os[s[u]]||s.splice(u,1);for(u=0,c=s.length;u<c;)p=(d=Ts(o,Os[s[u]]))[0],g=d[1],f=(l=Cs(o,Os[s[++u%c]]))[0],h=l[1],(Math.abs(p-f)>Vs||Math.abs(g-h)>Vs)&&(s.splice(u,0,Os.push(ws(a,d,Math.abs(p-t)<Vs&&r-g>Vs?[t,Math.abs(f-t)<Vs?h:r]:Math.abs(g-r)<Vs&&e-p>Vs?[Math.abs(h-r)<Vs?f:e,r]:Math.abs(p-e)<Vs&&g-n>Vs?[e,Math.abs(f-e)<Vs?h:n]:Math.abs(g-n)<Vs&&p-t>Vs?[Math.abs(h-n)<Vs?f:t,n]:null))-1),++c);c&&(y=!1)}if(y){var m,_,w,x=1/0;for(i=0,y=null;i<v;++i)(o=Is[i])&&(w=(m=(a=o.site)[0]-t)*m+(_=a[1]-n)*_)<x&&(x=w,y=o);if(y){var b=[t,n],M=[t,r],k=[e,r],C=[e,n];y.halfedges.push(Os.push(ws(a=y.site,b,M))-1,Os.push(ws(a,M,k))-1,Os.push(ws(a,k,C))-1,Os.push(ws(a,C,b))-1)}}for(i=0;i<v;++i)(o=Is[i])&&(o.halfedges.length||delete Is[i])}(a,u,s,c)}this.edges=Os,this.cells=Is,Hs=qs=Os=Is=null}Bs.prototype={constructor:Bs,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return Cs(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,r){if(o=(i=e.halfedges).length)for(var i,o,a,u,s,c,l=e.site,f=-1,h=n[i[o-1]],d=h.left===l?h.right:h.left;++f<o;)a=d,d=(h=n[i[f]]).left===l?h.right:h.left,a&&d&&r<a.index&&r<d.index&&(s=a,c=d,((u=l)[0]-c[0])*(s[1]-u[1])-(u[0]-s[0])*(c[1]-u[1])<0)&&t.push([l.data,a.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){for(var r,i,o=this,a=o._found||0,u=o.cells.length;!(i=o.cells[a]);)if(++a>=u)return null;var s=t-i.site[0],c=n-i.site[1],l=s*s+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(e){var r=o.edges[e],u=r.left;if(u!==i.site&&u||(u=r.right)){var s=t-u[0],c=n-u[1],f=s*s+c*c;f<l&&(l=f,a=u.index)}}))}while(null!==a);return o._found=r,null==e||l<=e*e?i.site:null}};Math.SQRT2;function Gs(t,n,e){this.k=t,this.x=n,this.y=e}Gs.prototype={constructor:Gs,scale:function(t){return 1===t?this:new Gs(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Gs(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Gs(1,0,0);Gs.prototype;var Zs=function(t){return t},Ws=function(t){if(null==t)return Zs;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,u){u||(n=e=0);var s=2,c=t.length,l=new Array(c);for(l[0]=(n+=t[0])*r+o,l[1]=(e+=t[1])*i+a;s<c;)l[s]=t[s],++s;return l}},Js=function(t,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map((function(n){return Qs(t,n)}))}:Qs(t,n)};function Qs(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=Ks(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function Ks(t,n){var e=Ws(t.transform),r=t.arcs;function i(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)n.push(e(i[o],o));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,a)}function o(t){return e(t)}function a(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function u(t){for(var n=a(t);n.length<4;)n.push(n[0]);return n}function s(t){return t.map(u)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=o(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(o);break;case"LineString":e=a(n.arcs);break;case"MultiLineString":e=n.arcs.map(a);break;case"Polygon":e=s(n.arcs);break;case"MultiPolygon":e=n.arcs.map(s);break;default:return null}return{type:r,coordinates:e}}(n)}var tc=new ArrayBuffer(16);new Float64Array(tc),new Uint32Array(tc);Math.PI,Math.abs,Math.atan2,Math.cos,Math.sin;var nc=[].slice,ec={};function rc(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function ic(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],r=e.length-1,i=e[r];e[r]=oc(t,n),--t._waiting,++t._active,e=i.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||ec)}}(t)}catch(n){if(t._tasks[t._ended+t._active-1])ac(t,n);else if(!t._data)throw n}}function oc(t,n){return function(e,r){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=e?ac(t,e):(t._data[n]=r,t._waiting?ic(t):uc(t))))}}function ac(t,n){var e,r=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--r>=0;)if((e=t._tasks[r])&&(t._tasks[r]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,uc(t)}function uc(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function sc(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new rc(t)}rc.prototype=sc.prototype={constructor:rc,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=nc.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),ic(this),this},abort:function(){return null==this._error&&ac(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,e){t.apply(null,[n].concat(e))},uc(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,uc(this),this}},console.log("working");var cc,lc=cc={geoQ:sc(),stormQ:sc(),geoLoc:"https://d3js.org/us-10m.v1.json",stormLoc:"https://datahub.io/tlhm/countyeventsmin-rare-mole-24/r/0.json",geoReady:function(t){console.log(t)},stormReady:function(t){console.log(t)},start:function(){fetch(cc.geoLoc).then((function(t){return t.json()})).then(cc.geoReady),fetch(cc.stormLoc).then((function(t){return t.json()})).then(cc.stormReady)},setGeo:function(t){cc.geoReady=function(n){cc.geoData=n,t(n)}},setStorm:function(t){cc.stormReady=function(n){cc.stormData=n,t(n)}},getGeo:function(){return cc.geoData||{}},getStorm:function(){return cc.stormData||{}},getStormAtTime:function(t){return cc.stormData?cc.stormData[t]:{}},getCountyData:function(t,n){if(!cc.stormData)return[0];var e=[],r=[],i=[];return cc.stormData.slice(n).forEach((function(n,o){e.push(n[t]&&n[t].f?n[t].f:0),r.push(n[t]&&n[t].w?n[t].w:0),i.push(n[t]&&n[t].i?n[t].i:0)})),[e,r,i]}},fc=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n={currentTime:0,maxTime:0,shift:0,updateInterval:250,ticking:!0,baseYear:1996,onUpdate:function(t){},setUpdate:function(t){n.onUpdate=t},setFPS:function(t){n.updateInterval=1e3/t},setMax:function(t){n.maxTime=t-n.shift},setShift:function(t){n.maxTime=n.maxTime+n.shift-t,n.shift=t},setBaseYear:function(t){n.baseYear=t},setTime:function(t){n.currentTime=t-n.shift,n.onUpdate(n.getTime()),n.ticker&&(clearInterval(n.ticker),n.ticker=null)},getTime:function(){return n.currentTime+n.shift},getTimeStr:function(){var e=n.getTime();return t[e%12]+" "+(Math.floor(e/12)+n.baseYear)},tick:function(){n.currentTime+=1,n.currentTime>n.maxTime&&(n.currentTime=0),n.onUpdate(n.getTime())},start:function(){n.ticker||(n.ticker=setInterval(n.tick,n.updateInterval))}};return n}();fc.setShift(0),fc.setMax(289);var hc,dc,pc,gc,vc,yc,mc,_c,wc,xc,bc,Mc,kc,Cc,Tc=Zo().domain([120,0]),Sc=(mc=40,_c=50,wc=30,xc=[],bc=975+mc+20,Mc=610+wc+_c,kc=function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Kr(t,e(r))),r.result()}return o.area=function(t){return Kr(t,e(wi)),wi.result()},o.measure=function(t){return Kr(t,e(ao)),ao.result()},o.bounds=function(t){return Kr(t,e(Ai)),Ai.result()},o.centroid=function(t){return Kr(t,e(Zi)),Zi.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,Br):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new uo):new Wi(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)}(),Cc=function t(n){if(null!=(hc=n)){dc=hc.append("svg").attr("width",bc).attr("height",Mc).attr("viewBox",[0,0,975,610]),t.defs=dc.append("defs"),t.timeTitle=dc.append("text").attr("id","currentTime").attr("font-size","1.2em").attr("font-family","DejaVu Sans Mono, monospace").attr("x",bc-200).attr("y",80).attr("text-anchor","end").text("Mon Year").attr("fill",pc),t.mainTitle=dc.append("text").attr("id","chartTitle").attr("font-size","1.7em").attr("font-family","Trebuchet MS, sans-serif").attr("x",bc/2).attr("y",10).attr("text-anchor","middle").text(yc).attr("fill",pc),(t.loading=dc.append("g").attr("id","loadingIndicator")).append("text").attr("id","loadingText").attr("font-size",".7em").attr("font-family","Trebuchet MS, sans-serif").attr("x",(bc-_c-wc)/2-25).attr("y",35).attr("text-anchor","right").attr("fill",pc).text("Loading Data..."),t.loadRot=t.loading.append("g").attr("id","loadingWheel").attr("transform","translate("+(bc/2+25)+", 31)").append("g").attr("id","wheelRotation"),[0,60,120,180,240,320].forEach((function(n,e){t.loadRot.append("circle").attr("class","loadingCirc").attr("cx",6*Math.sin(Math.PI*(e/3))).attr("cy",6*Math.cos(Math.PI*(e/3))).attr("r",2).attr("fill",pc)}));var e=0;return t.loadingAnim=setInterval((function(){e+=8,e%=360,t.loadRot.attr("transform","rotate("+e+")")}),50),t.counties=dc.append("g").attr("id","mapArea").attr("transform","translate("+wc+","+mc+")"),t.layerContainer=dc.append("g").attr("id","layerContainer").attr("transform","translate("+wc+","+mc+")"),t.legend=dc.append("g").attr("id","legend").attr("transform","translate("+(bc-wc-160)+","+(Mc/2+90)+")"),t.masks=dc.append("g").attr("id","masks"),t.highlight=dc.append("path").attr("id","highlighter").attr("transform","translate("+wc+","+mc+")").attr("stroke-width",2).attr("stroke","rgb(244, 242, 73)").attr("fill","none"),t.onCountySelection=function(t){console.log("Selected county "+t)},t.curSelection=null,t.select=function(n){t.highlight.attr("d",It(this).attr("d")),t.onCountySelection(n.id)},t.selectID=function(n){t.counties.select('[id="'+n+'"]').each(t.select)},t.countyBG=pc,t.addGrad=function(n,e,r,i){for(var o=t.defs.append("linearGradient").attr("id","grad"+e).attr("x1","0").attr("x2","1").attr("y1","0").attr("y2","0"),a=[0,i],u=a[0],s=(a[1]-a[0])/100,c=0;c<100;c++){var l=n(r.invert(u));o.append("stop").attr("offset",c+"%").attr("stop-color",l),u+=s}},t.addPattern=function(n){var e=t.defs.append("pattern").attr("id",n).attr("patternUnits","userSpaceOnUse").attr("x",0).attr("y",0).attr("width",5).attr("height",5);return e.append("rect").attr("x","0").attr("y","0").attr("width",5).attr("height",5).attr("fill","black"),e},t.addMask=function(n,e){t.masks.append("mask").attr("id",n).append("rect").attr("x",0).attr("y",0).attr("width",bc).attr("height",Mc).attr("stroke","none").attr("fill","url(#"+e+")")},t.drawGeo=function(n){t.counties.selectAll("path").data(Js(n,n.objects.counties).features).enter().append("path").attr("id",(function(t){return t.id})).attr("fill",t.countyBG).attr("stroke","rgb(64, 33, 38)").attr("d",kc).attr("class","county").on("click",t.select),t.layers=[],xc.forEach((function(e,r){var i,o=t.layerContainer.append("g").attr("id","layer"+r);o.selectAll("path").data(Js(n,n.objects.counties).features).enter().append("path").attr("id",(function(t){return t.id})).attr("fill","none").attr("d",kc).attr("class","countyL"+r).on("click",t.select).attr("mask",e.mask?"url(#"+e.mask+")":"none"),t.layers.push(o),t.addGrad(e.scale,r,e.numScale,120),t.legend.append("rect").attr("id","scaleBG"+r).attr("x",0).attr("y",70*r).attr("width",120).attr("height",15).attr("fill",t.countyBG),t.legend.append("rect").attr("id","scale"+r).attr("x",0).attr("y",70*r).attr("width",120).attr("height",15).attr("mask",e.mask?"url(#"+e.mask+")":"none").attr("fill","url(#grad"+r+")"),t.legend.append("g").attr("id","scale"+r+"Axis").attr("transform","translate(0,"+70*r+")").call((i=e.numScale,b(1,i)).tickValues([1,5,10,20,35,65,120])).call((function(t){t.select(".domain").attr("stroke","none"),t.selectAll(".tick line").attr("y1",15)})),t.legend.append("text").attr("id","label"+r).attr("text-anchor","middle").attr("font-size",11).attr("font-family","Trebuchet MS, sans-serif").attr("y",70*r-25).attr("x",60).text(e.name)}))},t.update=function(n){t.timeTitle.text(vc.getTimeStr()),0!=t.layers.length&&(t.curStorms=gc.getStormAtTime(n))&&xc.forEach((function(n,e){t.layers[e].selectAll("path").attr("fill",(function(e){return t.curStorms[e.id]&&t.curStorms[e.id][n.dataID]?n.scale(t.curStorms[e.id][n.dataID]):"none"}))}))},t.endLoading=function(){clearInterval(t.loadingAnim),t.loading.attr("display","none")},t}console.error("selection is undefined")},Cc.width=function(t){return 0==arguments.length?bc:(bc=t,Cc)},Cc.height=function(t){return 0==arguments.length?Mc:(Mc=t,Cc)},Cc.title=function(t){return 0==arguments.length?yc:(yc=t,Cc)},Cc.bgColor=function(t){return 0==arguments.length?pc:(pc=t,Cc)},Cc.layerConfig=function(t){return 0==arguments.length?xc:(xc=t,Cc)},Cc.dataManager=function(t){return 0==arguments.length?gc:(gc=t,Cc)},Cc.timer=function(t){return 0==arguments.length?vc:(vc=t,Cc)},Cc).dataManager(lc).timer(fc).bgColor("rgb(51, 27, 40)").title("Storm Events 1996 - 2020").layerConfig([{name:"Flooding",scale:rs((function(t){return us(Tc(t))})),numScale:Zo().domain([0,120]).range([0,120]),dataID:"f"},{name:"Windy",scale:rs((function(t){return as(Tc(t))})),numScale:Zo().domain([0,120]).range([0,120]),dataID:"w",mask:"diagMask"}])(It("body").append("div").attr("id","MapBase").attr("style","width:1020px; height:700px; margin:0 auto")),Nc=Sc.addPattern("patDiag");Nc.append("path").attr("fill","none").attr("stroke","white").attr("stroke-linecap","square").attr("d","M 0,2 L 3,5"),Nc.append("path").attr("fill","none").attr("stroke","white").attr("stroke-linecap","square").attr("d","M 3,0 L 5,2"),Sc.addMask("diagMask","patDiag");var Ac,Uc,Dc,Lc,Ec,Pc,Rc,Fc,Yc,jc=It("body").append("div").attr("id","timeChartContainer").attr("style","width:880px; margin:0 auto"),zc=(Fc=[new Date("1950"),new Date("2020")],Yc=function t(n){if(null!=n)return t.margin={top:10,right:90,bottom:20,left:50},t.selection=n,t.size={width:880,height:150},(t.controls=t.selection.append("div").attr("id","timeController").attr("style","width:150px; margin:0 auto")).append("button").attr("type","button").text("Play").on("click",Pc),t.svg=t.selection.append("svg").attr("id","timePlot").attr("width",t.size.width+"px").attr("height",t.size.height+"px"),(t.body=t.svg.append("g").attr("transform","translate("+t.margin.left+","+t.margin.top+")").attr("id","plotBody")).append("rect").attr("id","bg").attr("width",t.size.width-t.margin.left-t.margin.right+"px").attr("height",t.size.height-t.margin.top-t.margin.bottom+"px").attr("fill-opacity",".001"),t.lineG=t.body.append("g").attr("id","lineG"),t.legend=t.svg.append("g").attr("id","timeChartLegend").attr("transform","translate("+(t.size.width-t.margin.right)+","+t.size.height/2+")"),(t.leglabels=t.legend.selectAll("g").data(Lc).join("g").attr("id","chanLabel")).append("line").attr("x1",(function(t,n){return 10})).attr("x2",(function(t,n){return 30})).attr("y1",(function(t,n){return 20*n})).attr("y2",(function(t,n){return 20*n})).attr("style",(function(t,n){return Ec?Ec[n]:"stroke-width=2"})),t.leglabels.append("text").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","left").attr("y",(function(t,n){return 20*n+4})).attr("x",(function(t,n){return 35})).text((function(t){return t})),t.xScale=function(){return ho.apply(Ju(ta,ea,ia,ha,pa,va,ma,wa,Ya).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}().domain(Fc).range([0,t.size.width-t.margin.left-t.margin.right]).clamp(!0),t.xAxis=t.body.append("g").attr("id","xAxis").attr("transform","translate(0,"+(t.size.height-t.margin.bottom-t.margin.top)+")").call(b(3,t.xScale)),t.yScale=Zo().domain(Uc).range([t.size.height-t.margin.bottom-t.margin.top,0]),(t.yAxis=t.yAxis=t.body.append("g").attr("id","yAxis").call(function(t){return b(4,t)}(t.yScale).tickValues([1,5,10,20,40,80,120]))).append("text").attr("id","yLabel").attr("font-family","Trebuchet MS, sans-serif").attr("font-size","10").attr("transform","rotate(-90)").attr("y",-30).attr("x",20-t.size.height/2).attr("fill","currentColor").attr("text-anchor","middle").text(Dc),t.curTime=t.body.append("rect").attr("id","curTimeLine").attr("width","1").attr("height",t.size.height-t.margin.bottom-t.margin.top+"").attr("y","0").attr("x",t.xScale(Fc[0])).attr("stroke-width","2").attr("stroke","rgb(86, 110, 213)").attr("fill","none"),t.getLine=function(){return function(){var t=fs,n=hs,e=ss(!0),r=null,i=ls,o=null;function a(a){var u,s,c,l=a.length,f=!1;for(null==r&&(o=i(c=fr())),u=0;u<=l;++u)!(u<l&&e(s=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(s,u,a),+n(s,u,a));if(c)return o=null,c+""||null}return a.x=function(n){return arguments.length?(t="function"==typeof n?n:ss(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:ss(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:ss(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}().x((function(n,e){var r=new Date(Fc[0].getTime());return t.xScale(r.setMonth(r.getMonth()+e))})).y((function(n,e){return t.yScale(n)}))},t.setTime=function(n){t.curTime.attr("x",t.xScale(n))},t.setLines=function(n){t.lineG.selectAll("path").data(n).join("path").attr("d",t.getLine()).attr("fill","none").attr("style",(function(t,n){return Ec?Ec[n]:"stroke-width=2"}))},t.onDragCallback=function(t){console.log(t)},t.dragUpdate=function(){var n=Xn(this)[0];t.curTime.attr("x",t.xScale(t.xScale.invert(n))),t.onDragCallback(t.xScale.invert(n))},t.dragHandler=function(){var t,n,e,r,i=wr,o=xr,a=br,u=Mr,s={},c=A("start","drag","end"),l=0,f=0;function h(t){t.on("mousedown.drag",d).filter(u).on("touchstart.drag",v).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=_("mouse",o.apply(this,arguments),Xn,this,arguments);a&&(It(St.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),Vt(St.view),qt(),e=!1,t=St.clientX,n=St.clientY,a("start"))}}function p(){if(Ot(),!e){var r=St.clientX-t,i=St.clientY-n;e=r*r+i*i>f}s.mouse("drag")}function g(){It(St.view).on("mousemove.drag mouseup.drag",null),Xt(St.view,e),Ot(),s.mouse("end")}function v(){if(i.apply(this,arguments)){var t,n,e=St.changedTouches,r=o.apply(this,arguments),a=e.length;for(t=0;t<a;++t)(n=_(e[t].identifier,r,Vn,this,arguments))&&(qt(),n("start"))}}function y(){var t,n,e=St.changedTouches,r=e.length;for(t=0;t<r;++t)(n=s[e[t].identifier])&&(Ot(),n("drag"))}function m(){var t,n,e=St.changedTouches,i=e.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=s[e[t].identifier])&&(qt(),n("end"))}function _(t,n,e,r,i){var o,u,f,d=e(n,t),p=c.copy();if(Et(new _r(h,"beforestart",o,t,l,d[0],d[1],0,0,p),(function(){return null!=(St.subject=o=a.apply(r,i))&&(u=o.x-d[0]||0,f=o.y-d[1]||0,!0)})))return function a(c){var g,v=d;switch(c){case"start":s[t]=a,g=l++;break;case"end":delete s[t],--l;case"drag":d=e(n,t),g=l}Et(new _r(h,c,o,t,g,d[0]+u,d[1]+f,d[0]-v[0],d[1]-v[1],p),p.apply,p,[c,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:mr(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:mr(t),h):o},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:mr(t),h):a},h.touchable=function(t){return arguments.length?(u="function"==typeof t?t:mr(!!t),h):u},h.on=function(){var t=c.on.apply(c,arguments);return t===c?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}().on("start",t.dragUpdate).on("drag",t.dragUpdate),t.body.call(t.dragHandler),t;console.error("selection is undefined")},Yc.timeRange=function(t){return 0==arguments.length?Fc:(Fc=t,Yc)},Yc.timeTicks=function(t){return 0==arguments.length?Ac:(Ac=t,Yc)},Yc.yRange=function(t){return 0==arguments.length?Uc:(Uc=t,Yc)},Yc.yLabel=function(t){return 0==arguments.length?Dc:(Dc=t,Yc)},Yc.lineStyles=function(t){return 0==arguments.length?Ec:(Ec=t,Yc)},Yc.lineLabels=function(t){return 0==arguments.length?Lc:(Lc=t,Yc)},Yc.onPlay=function(t){return 0==arguments.length?Pc:(Pc=t,Yc)},Yc.onSelectTime=function(t){return 0==arguments.length?Rc:(Rc=t,Yc)},Yc).yRange([0,120]).timeRange([new Date("1996"),new Date("01/01/1950").setMonth(840)]).yLabel("Number of Storm Events").lineLabels(["Flooding","High Winds"]).lineStyles(["stroke:rgb(56, 143, 192); stroke-width:1.5","stroke:rgb(66, 171, 117); stroke-dasharray: 2,2; stroke-width:1.5","stroke:rgb(137, 78, 213); stroke-dasharray: 8,4; stroke-width:1"]).onPlay(fc.start)(jc);zc.onDragCallback=function(t){var n=12*(t.getFullYear()-fc.baseYear)+t.getMonth();fc.setTime(n)},Sc.onCountySelection=function(t){var n=lc.getCountyData(t,0);zc.setLines(n)},lc.setGeo(Sc.drawGeo),lc.setStorm((function(t){fc.start(),Sc.endLoading(),setTimeout((function(){Sc.selectID("08013")}),1e3)}));fc.setUpdate((function(t){Sc.update(t);var n=new Date("01/01/"+fc.baseYear);n.setMonth(t),zc.setTime(n)})),lc.start();var Hc=It("body").append("div").attr("id","description").attr("style","width:900px; margin: 0 auto; font-family: Trebuchet MS, sans-serif;text-align: center;");Hc.append("p").text("Click on counties or the line chart to select a specific place or time, respectively."),Hc.append("p").text("The data visualized are from the NWS Storm Events Database, significantly simplified and reduced to only the data since 1996. Before that time, not much was reported that fell into my categories of interest: Storm types with flooding or high winds."),Hc.append("a").attr("href","https://github.com/TLHM/StormEventsViz").text("View on Github for more info.")}});
//# sourceMappingURL=bundle.js.map